<!-- templates/users/dashboard_company.html -->
{% extends 'base.html' %}

{% block title %}Dashboard de Empresa{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">Dashboard de Empresa</h1>

    <h2>Reservas Pendientes</h2>
    <ul class="list-group mb-3">
        {% for booking in pending_bookings %}
            <li class="list-group-item">
                <h5>Cliente: {{ booking.user.username }}</h5>
                <p><strong>Servicio:</strong> {{ booking.service.name }}</p>
                <p><strong>Fecha:</strong> {{ booking.date }}</p>
                <a href="{% url 'confirm_booking' booking.id %}" class="btn btn-success btn-sm">Confirmar</a>
            </li>
        {% empty %}
            <li class="list-group-item">No tienes reservas pendientes.</li>
        {% endfor %}
    </ul>

    <h2>Notificaciones</h2>
    <ul class="list-group mb-3">
        {% for notification in user.notifications.all %}
            <li class="list-group-item {% if notification.is_read %}bg-light{% endif %}">
                <p>{{ notification.message }}</p>
                <small><em>{{ notification.timestamp }}</em></small>
            </li>
        {% empty %}
            <li class="list-group-item">No tienes notificaciones.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
